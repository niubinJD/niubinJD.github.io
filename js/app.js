var customSearch;!function(t){"use strict";var a=80;const o=t(".l_header",".cover-wrapper");function n(e,o){o=o||a;const n=e.href?t(e.getAttribute("href")):t(e);t("html, body").animate({scrollTop:n.offset().top-o},400)}o[0]&&(a=o[0].clientHeight+16),t(function(){var r;!function(){if(!window.subData)return;const e=t("header .wrapper"),a=t(".s-comment",e),o=t(".s-toc",e);e.find(".nav-sub .logo").text(window.subData.title);const r=t("#comments");r.length?a.click(e=>{e.preventDefault(),e.stopPropagation(),n(r)}):a.remove();const c=t(".toc-wrapper");c.length&&c.children().length?o.click(e=>{e.stopPropagation(),c.toggleClass("active")}):o.remove()}(),function(){var e=t("body .navgation");e.find("li a.active").removeClass("active");var a=null,o=location.pathname.replace(/\/|%/g,"");0==o.length&&(o="home");var n=o.match(/page\d{0,}$/g);n&&(n=n[0],o=o.split(n)[0]);var r,c=o.match(/index.html/);c&&(c=c[0],o=o.split(c)[0]),o&&e&&(a=t("#"+o,e),(r=a)&&r.length&&r.addClass("active").siblings().removeClass("active"))}(),(r=t(".l_header .switcher .s-menu")).click(function(e){e.stopPropagation(),t("body").toggleClass("z_menu-open"),r.toggleClass("active")}),t(document).click(function(e){t("body").removeClass("z_menu-open"),r.removeClass("active")}),function(){var a=t(".l_header .switcher .s-search"),o=t(".l_header"),n=t(".l_header .m_search");0!==a.length&&(a.click(function(e){e.stopPropagation(),o.toggleClass("z_search-open"),n.find("input").focus()}),t(document).click(function(e){o.removeClass("z_search-open")}),n.click(function(e){e.stopPropagation()}),o.ready(function(){o.bind("keydown",function(t){if(9==t.keyCode)return!1;var a,o,n=!!document.all;n?(a=window.event.keyCode,o=window.event):(a=e.which,o=e),9==a&&(n?(o.keyCode=0,o.returnValue=!1):(o.which=0,o.preventDefault()))})}))}(),function(){const e=t(".toc-wrapper");if(0===e.length)return;t(document).click(()=>e.removeClass("active")),e.on("click","a",t=>{t.preventDefault(),t.stopPropagation(),"A"===t.target.tagName?n(t.target):"SPAN"===t.target.tagName&&n(t.target.parentElement),e.removeClass("active")});const o=Array.from(e.find("li a")),r=()=>o.map(e=>Math.floor(t(e.getAttribute("href")).offset().top-a));let c=r();const i=()=>{const e=t("html").scrollTop()||t("body").scrollTop();if(!c)return;let a,n=0,r=c.length-1;for(;n<r;)c[a=n+r+1>>1]===e?n=r=a:c[a]<e?n=a:r=a-1;t(o).removeClass("active").eq(n).addClass("active")};t(window).resize(()=>{c=r(),i()}).scroll(()=>{i()}),i()}(),function(){const e=t(".menu .active"),a=t(".s-top"),r=t("h1.title","#header-meta"),c=t(".l_body");e.length&&c&&e.click(e=>{e.preventDefault(),e.stopPropagation(),n(c)}),r.length&&c&&r.click(e=>{e.preventDefault(),e.stopPropagation(),n(c)}),a.length&&c&&a.click(e=>{e.preventDefault(),e.stopPropagation(),n(c)});const i=t(".cover-wrapper");var s=0;i[0]&&(s=i[0].clientHeight-164);var l=document.body.scrollTop;t(document,window).scroll(()=>{const e=t(window).scrollTop(),n=e-l;l=e,e>150?(a.addClass("show"),n>0?a.removeClass("hl"):a.addClass("hl")):a.removeClass("show").removeClass("hl"),e>s?o.addClass("show"):o.removeClass("show")})}(),setTimeout(function(){t("#loading-bar-wrapper").fadeOut(500)},300),"google"===SEARCH_SERVICE?customSearch=new GoogleCustomSearch({apiKey:GOOGLE_CUSTOM_SEARCH_API_KEY,engineId:GOOGLE_CUSTOM_SEARCH_ENGINE_ID,imagePath:"/images/"}):"algolia"===SEARCH_SERVICE?customSearch=new AlgoliaSearch({apiKey:ALGOLIA_API_KEY,appId:ALGOLIA_APP_ID,indexName:ALGOLIA_INDEX_NAME,imagePath:"/images/"}):"hexo"===SEARCH_SERVICE?customSearch=new HexoSearch({imagePath:"/images/"}):"azure"===SEARCH_SERVICE?customSearch=new AzureSearch({serviceName:AZURE_SERVICE_NAME,indexName:AZURE_INDEX_NAME,queryKey:AZURE_QUERY_KEY,imagePath:"/images/"}):"baidu"===SEARCH_SERVICE&&(customSearch=new BaiduSearch({apiId:BAIDU_API_ID,imagePath:"/images/"}))})}(jQuery);